"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[997],{3905:function(e,t,n){n.d(t,{Zo:function(){return m},kt:function(){return g}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,i=e.originalType,s=e.parentName,m=l(e,["components","mdxType","originalType","parentName"]),c=p(n),d=r,g=c["".concat(s,".").concat(d)]||c[d]||u[d]||i;return n?a.createElement(g,o(o({ref:t},m),{},{components:n})):a.createElement(g,o({ref:t},m))}));function g(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l[c]="string"==typeof e?e:r,o[1]=l;for(var p=2;p<i;p++)o[p]=n[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},4001:function(e,t,n){n.r(t),n.d(t,{assets:function(){return s},contentTitle:function(){return o},default:function(){return u},frontMatter:function(){return i},metadata:function(){return l},toc:function(){return p}});var a=n(3117),r=(n(7294),n(3905));const i={},o="Company Onboarding",l={unversionedId:"specs/onboarding/company",id:"specs/onboarding/company",title:"Company Onboarding",description:"On each step, clicking on Next should update the onboarding in the API. This helps resuming the onboarding after a page reload.",source:"@site/docs/specs/onboarding/company.md",sourceDirName:"specs/onboarding",slug:"/specs/onboarding/company",permalink:"/swan-partner-frontend/specs/onboarding/company",draft:!1,editUrl:"https://github.com/swan-io/swan-partner-frontend/edit/main/docs/docs/specs/onboarding/company.md",tags:[],version:"current",frontMatter:{},sidebar:"specs",previous:{title:"Individual Onboarding",permalink:"/swan-partner-frontend/specs/onboarding/individual"},next:{title:"Overview",permalink:"/swan-partner-frontend/specs/banking/"}},s={},p=[{value:"1. Registration",id:"1-registration",level:2},{value:"2. Organization",id:"2-organization",level:2},{value:"2. a. Legal information &amp; Organization address",id:"2-a-legal-information--organization-address",level:3},{value:"2. b. Company details",id:"2-b-company-details",level:3},{value:"3. Ownership",id:"3-ownership",level:2},{value:"4. Finalize",id:"4-finalize",level:2}],m={toc:p},c="wrapper";function u(e){let{components:t,...i}=e;return(0,r.kt)(c,(0,a.Z)({},m,i,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"company-onboarding"},"Company Onboarding"),(0,r.kt)("p",null,"On each step, clicking on ",(0,r.kt)("strong",{parentName:"p"},"Next")," should update the onboarding in the API. This helps resuming the onboarding after a page reload."),(0,r.kt)("h1",{id:"first-information"},"First information"),(0,r.kt)("p",null,"The first screen asks for basic information that condition the rest of the flow:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The organization (company, association \u2026) country"),(0,r.kt)("li",{parentName:"ul"},"How the user represents the organization (wether being a ",(0,r.kt)("strong",{parentName:"li"},"legal representative"),", or ",(0,r.kt)("strong",{parentName:"li"},"someone with a power of attorney"),", in which case we\u2019ll require the document)"),(0,r.kt)("li",{parentName:"ul"},"The type of organization (this conditions the types of documents we\u2019ll ask)")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 17.11.51.png",src:n(6463).Z,width:"1942",height:"1568"})),(0,r.kt)("h1",{id:"summary-screen"},"Summary screen"),(0,r.kt)("p",null,"The second screen shows a summary of the steps to come."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Email"),": mandatory"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Fill in the form"),": mandatory"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Add an owner"),": if the organization is a company, home owner association or \u201cother\u201d."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Attach the documents"),": if the onboarding\u2019s supporting document collection\u2019s ",(0,r.kt)("inlineCode",{parentName:"li"},"requiredSupportingDocumentPurposes")," is not empty"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Finalize"),": mandatory")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 17.17.05.png",src:n(2984).Z,width:"2291",height:"1439"})),(0,r.kt)("h1",{id:"form"},"Form"),(0,r.kt)("p",null,"The form should show a stepper on top, showing the user progress in the onboarding flow."),(0,r.kt)("h2",{id:"1-registration"},"1. Registration"),(0,r.kt)("p",null,"The user must fill their ",(0,r.kt)("strong",{parentName:"p"},"email address"),"."),(0,r.kt)("admonition",{title:"\ud83c\udde9\ud83c\uddea German Account",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"For German accounts, two mandatory fields are added: ",(0,r.kt)("strong",{parentName:"p"},"legal representative")," ",(0,r.kt)("strong",{parentName:"p"},"country of residence")," and ",(0,r.kt)("strong",{parentName:"p"},"address"),".")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 17.28.58.png",src:n(2141).Z,width:"2301",height:"1435"})),(0,r.kt)("h2",{id:"2-organization"},"2. Organization"),(0,r.kt)("h3",{id:"2-a-legal-information--organization-address"},"2. a. Legal information & Organization address"),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Legal information")),(0,r.kt)("p",null,"The following fields are displayed:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"organization name")," (mandatory)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"organization registration number")," (optional)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"organization VAT number")," (optional)")),(0,r.kt)("admonition",{title:"\ud83c\udde9\ud83c\uddea German Account",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"For ",(0,r.kt)("strong",{parentName:"p"},"German accounts")," when onboarding a ",(0,r.kt)("strong",{parentName:"p"},"German company"),", the user is presented an optional ",(0,r.kt)("strong",{parentName:"p"},"tax identification number")," field (10 or 11 characters, numbers only)")),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 17.35.54.png",src:n(8400).Z,width:"2294",height:"1436"})),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Organization address")),(0,r.kt)("p",null,"The user must fill their organization address."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 17.35.57.png",src:n(4128).Z,width:"2297",height:"1445"})),(0,r.kt)("h3",{id:"2-b-company-details"},"2. b. Company details"),(0,r.kt)("p",null,"The user must fill the following fields:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Business activity")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Business description")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Expected monthly payment throughput"))),(0,r.kt)("h2",{id:"3-ownership"},"3. Ownership"),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"This step is only applicable if the organization is a ",(0,r.kt)("strong",{parentName:"p"},"company"),", ",(0,r.kt)("strong",{parentName:"p"},"home owner association")," or ",(0,r.kt)("strong",{parentName:"p"},"\u201cother\u201d"))),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"The ultimate beneficiary owners are fetched automatically on onboarding update if the information is available, as soon as the necessary information (like the registration number) are gathered, ",(0,r.kt)("strong",{parentName:"p"},"in most cases, this should not require any filling from the user"),"!")),(0,r.kt)("p",null,"On this step, the user can add the organization\u2019s ultimate beneficiary owners."),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 17.52.35.png",src:n(9193).Z,width:"2290",height:"1443"})),(0,r.kt)("p",null,"When adding or editing an owner, a modal should appear with the following fields:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"First name")," (mandatory)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Last name")," (mandatory)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Birth date")," (mandatory)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Birth country")," (mandatory)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Birth city")," (mandatory)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Birth postal code")," (mandatory)"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Type of control exercised")," (mandatory)",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"if \u201cOwnership of capital\u201d, add:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Total percentage of capital held")," (number, mandatory)"),(0,r.kt)("li",{parentName:"ul"},"two checkboxes:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Directly")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Indirectly"))))))))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 17.52.44.png",src:n(175).Z,width:"2302",height:"1446"})),(0,r.kt)("admonition",{title:"\ud83c\udde9\ud83c\uddea German Account",type:"info"},(0,r.kt)("p",{parentName:"admonition"},"For German accounts, the form should contain a second step with the following fields:"),(0,r.kt)("ul",{parentName:"admonition"},(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Residency country")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Residency address")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Tax identification number")," (optional), only show if the owner\u2019s residency country is Germany")),(0,r.kt)("p",{parentName:"admonition"},(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 17.59.10.png",src:n(8606).Z,width:"2292",height:"1429"}))),(0,r.kt)("h2",{id:"4-finalize"},"4. Finalize"),(0,r.kt)("p",null,"This step just informs the user of the authentication flow to come."),(0,r.kt)("p",null,"Clicking on ",(0,r.kt)("strong",{parentName:"p"},"Finalize")," checks for potential errors in the onboarding using ",(0,r.kt)("inlineCode",{parentName:"p"},"statusInfo"),", if there\u2019s none, it redirects to the OAuth2 server to log or enroll the user through the consent app."),(0,r.kt)("p",null,"The OAuth2 link must have the following query parameters:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"identificationLevel"),": containing the value provided by the onboarding\u2019s ",(0,r.kt)("inlineCode",{parentName:"li"},"legalRepresentativeRecommendedIdentificationLevel")," to make sure the account is compliant with its country regulations"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"onboardingId"),": to link the user to the created account"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"projectId"))),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Screenshot 2023-03-03 at 18.01.38.png",src:n(5919).Z,width:"2296",height:"1444"})),(0,r.kt)("admonition",{type:"caution"},(0,r.kt)("p",{parentName:"admonition"},"For security & privacy reasons, once the onboarding is finalized, ",(0,r.kt)("strong",{parentName:"p"},"it\u2019s no longer accessible through the unauthenticated API"),".")))}u.isMDXComponent=!0},8606:function(e,t,n){t.Z=n.p+"assets/images/add-owner-address-f0edb3e1ebed092414e9645a64f6bb28.png"},175:function(e,t,n){t.Z=n.p+"assets/images/add-owner-a93b9bfafd366063a7328d185813db97.png"},5919:function(e,t,n){t.Z=n.p+"assets/images/finalize-af765a373a684f65ce38eb332e2d9b50.png"},6463:function(e,t,n){t.Z=n.p+"assets/images/first-e425654e14f7ac398ca721e7ef7cb900.png"},2984:function(e,t,n){t.Z=n.p+"assets/images/flow-0eff8b764ccd8314d5f7954389061117.png"},8400:function(e,t,n){t.Z=n.p+"assets/images/legal-information-77cd7db2ec82718c70c291d98197013e.png"},4128:function(e,t,n){t.Z=n.p+"assets/images/organization-address-bd987ab59cbc1d895b1bde0320335bf3.png"},9193:function(e,t,n){t.Z=n.p+"assets/images/owners-9ecec0bcff076b7a424bc799eaf25a74.png"},2141:function(e,t,n){t.Z=n.p+"assets/images/registration-81672ec1c3b7314de478ebfe7162999b.png"}}]);