"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[501],{3905:function(e,t,n){n.d(t,{Zo:function(){return c},kt:function(){return f}});var r=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=r.createContext({}),i=function(e){var t=r.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):l(l({},t),e)),n},c=function(e){var t=i(e.components);return r.createElement(s.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},m=r.forwardRef((function(e,t){var n=e.components,a=e.mdxType,o=e.originalType,s=e.parentName,c=u(e,["components","mdxType","originalType","parentName"]),p=i(n),m=a,f=p["".concat(s,".").concat(m)]||p[m]||d[m]||o;return n?r.createElement(f,l(l({ref:t},c),{},{components:n})):r.createElement(f,l({ref:t},c))}));function f(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=n.length,l=new Array(o);l[0]=m;var u={};for(var s in t)hasOwnProperty.call(t,s)&&(u[s]=t[s]);u.originalType=e,u[p]="string"==typeof e?e:a,l[1]=u;for(var i=2;i<o;i++)l[i]=n[i];return r.createElement.apply(null,l)}return r.createElement.apply(null,n)}m.displayName="MDXCreateElement"},9593:function(e,t,n){n.r(t),n.d(t,{assets:function(){return j},contentTitle:function(){return E},default:function(){return P},frontMatter:function(){return O},metadata:function(){return I},toc:function(){return C}});var r=n(3117),a=n(7294),o=n(3905),l=n(4334),u=n(2466),s=n(6775),i=n(1980),c=n(7392),p=n(12);function d(e){return function(e){return a.Children.map(e,(e=>{if((0,a.isValidElement)(e)&&"value"in e.props)return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))}(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}function m(e){const{values:t,children:n}=e;return(0,a.useMemo)((()=>{const e=t??d(n);return function(e){const t=(0,c.l)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function f(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function h(e){let{queryString:t=!1,groupId:n}=e;const r=(0,s.k6)(),o=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,i._X)(o),(0,a.useCallback)((e=>{if(!o)return;const t=new URLSearchParams(r.location.search);t.set(o,e),r.replace({...r.location,search:t.toString()})}),[o,r])]}function b(e){const{defaultValue:t,queryString:n=!1,groupId:r}=e,o=m(e),[l,u]=(0,a.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:o}))),[s,i]=h({queryString:n,groupId:r}),[c,d]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[r,o]=(0,p.Nk)(n);return[r,(0,a.useCallback)((e=>{n&&o.set(e)}),[n,o])]}({groupId:r}),b=(()=>{const e=s??c;return f({value:e,tabValues:o})?e:null})();(0,a.useLayoutEffect)((()=>{b&&u(b)}),[b]);return{selectedValue:l,selectValue:(0,a.useCallback)((e=>{if(!f({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);u(e),i(e),d(e)}),[i,d,o]),tabValues:o}}var g=n(2389),k={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function y(e){let{className:t,block:n,selectedValue:o,selectValue:s,tabValues:i}=e;const c=[],{blockElementScrollPositionUntilNextRender:p}=(0,u.o5)(),d=e=>{const t=e.currentTarget,n=c.indexOf(t),r=i[n].value;r!==o&&(p(t),s(r))},m=e=>{let t=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;t=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;t=c[n]??c[c.length-1];break}}t?.focus()};return a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,l.Z)("tabs",{"tabs--block":n},t)},i.map((e=>{let{value:t,label:n,attributes:u}=e;return a.createElement("li",(0,r.Z)({role:"tab",tabIndex:o===t?0:-1,"aria-selected":o===t,key:t,ref:e=>c.push(e),onKeyDown:m,onClick:d},u,{className:(0,l.Z)("tabs__item",k.tabItem,u?.className,{"tabs__item--active":o===t})}),n??t)})))}function v(e){let{lazy:t,children:n,selectedValue:r}=e;if(n=Array.isArray(n)?n:[n],t){const e=n.find((e=>e.props.value===r));return e?(0,a.cloneElement)(e,{className:"margin-top--md"}):null}return a.createElement("div",{className:"margin-top--md"},n.map(((e,t)=>(0,a.cloneElement)(e,{key:t,hidden:e.props.value!==r}))))}function w(e){const t=b(e);return a.createElement("div",{className:(0,l.Z)("tabs-container",k.tabList)},a.createElement(y,(0,r.Z)({},e,t)),a.createElement(v,(0,r.Z)({},e,t)))}function N(e){const t=(0,g.Z)();return a.createElement(w,(0,r.Z)({key:String(t)},e))}var S={tabItem:"tabItem_Ymn6"};function T(e){let{children:t,hidden:n,className:r}=e;return a.createElement("div",{role:"tabpanel",className:(0,l.Z)(S.tabItem,r),hidden:n},t)}const O={title:"Set up your instance",sidebar_label:"Set up your instance"},E="Set up your instance",I={unversionedId:"setup",id:"setup",title:"Set up your instance",description:"1. Clone the project",source:"@site/docs/setup.mdx",sourceDirName:".",slug:"/setup",permalink:"/swan-partner-frontend/setup",draft:!1,editUrl:"https://github.com/swan-io/swan-partner-frontend/edit/main/docs/docs/setup.mdx",tags:[],version:"current",frontMatter:{title:"Set up your instance",sidebar_label:"Set up your instance"},sidebar:"docs",previous:{title:"Introduction",permalink:"/swan-partner-frontend/getting-started"},next:{title:"Development server",permalink:"/swan-partner-frontend/dev-server"}},j={},C=[{value:"1. Clone the project",id:"1-clone-the-project",level:2},{value:"2. Install dependencies",id:"2-install-dependencies",level:2},{value:"3. Set up hosts",id:"3-set-up-hosts",level:2},{value:"4. Set up HTTPS and <code>mkcert</code>",id:"4-set-up-https-and-mkcert",level:2},{value:"5. Configure your Swan project",id:"5-configure-your-swan-project",level:2},{value:"6. Add the provided redirect URL",id:"6-add-the-provided-redirect-url",level:2}],x={toc:C},D="wrapper";function P(e){let{components:t,...n}=e;return(0,o.kt)(D,(0,r.Z)({},x,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"set-up-your-instance"},"Set up your instance"),(0,o.kt)("h2",{id:"1-clone-the-project"},"1. Clone the project"),(0,o.kt)("p",null,"Clone the project using ",(0,o.kt)("inlineCode",{parentName:"p"},"git"),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"$ git clone git@github.com:swan-io/swan-partner-frontend.git\n$ cd swan-partner-frontend\n")),(0,o.kt)("h2",{id:"2-install-dependencies"},"2. Install dependencies"),(0,o.kt)("p",null,"Install ",(0,o.kt)("a",{parentName:"p",href:"https://yarnpkg.com/en/docs/install"},"yarn"),", which is required to mangage the monorepository."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"$ yarn\n")),(0,o.kt)("h2",{id:"3-set-up-hosts"},"3. Set up hosts"),(0,o.kt)("p",null,"We need to be able to replicate the subdomains used in production.\nYou might need to use ",(0,o.kt)("inlineCode",{parentName:"p"},"sudo")," to edit the ",(0,o.kt)("inlineCode",{parentName:"p"},"hosts")," file."),(0,o.kt)("p",null,"Add the following to your ",(0,o.kt)("inlineCode",{parentName:"p"},"/etc/hosts")," file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-txt",metastring:'title="/etc/hosts"',title:'"/etc/hosts"'},"127.0.0.1 banking.swan.local\n127.0.0.1 onboarding.swan.local\n")),(0,o.kt)("h2",{id:"4-set-up-https-and-mkcert"},"4. Set up HTTPS and ",(0,o.kt)("inlineCode",{parentName:"h2"},"mkcert")),(0,o.kt)("p",null,"In order to replicate the production conditions (primarily for session cookies), the local server runs in HTTPS.\nYour system will warn against a self-signed certificate by default, so use ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/FiloSottile/mkcert"},"mkcert")," to make your system trust it."),(0,o.kt)(N,{defaultValue:"mac",mdxType:"Tabs"},(0,o.kt)(T,{value:"mac",label:"macOS",mdxType:"TabItem"},(0,o.kt)("p",null,"With ",(0,o.kt)("a",{parentName:"p",href:"https://brew.sh"},"Homebrew"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},'$ brew install mkcert\n$ brew install nss # needed for Firefox\n$ cd server/keys\n$ mkcert -install\n$ mkcert "*.swan.local"\n'))),(0,o.kt)(T,{value:"win",label:"Windows",mdxType:"TabItem"},(0,o.kt)("p",null,"With ",(0,o.kt)("a",{parentName:"p",href:"https://chocolatey.org"},"Chocolatey"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},'$ choco install mkcert\n$ cd server/keys\n$ mkcert -install\n$ mkcert "*.swan.local"\n')))),(0,o.kt)("h2",{id:"5-configure-your-swan-project"},"5. Configure your Swan project"),(0,o.kt)("p",null,"Configuring your Swan project is as simple as running one command and providing the requested information."),(0,o.kt)("p",null,"You will be asked for your OAuth2 Client ID and Client Secret, available on ",(0,o.kt)("a",{parentName:"p",href:"https://dashboard.swan.io"},(0,o.kt)("strong",{parentName:"a"},"Dashboard")," > ",(0,o.kt)("strong",{parentName:"a"},"Developers")," > ",(0,o.kt)("strong",{parentName:"a"},"API")),"."),(0,o.kt)("admonition",{type:"caution"},(0,o.kt)("p",{parentName:"admonition"},"For local development, we recommend using your Sandbox credentials.")),(0,o.kt)("p",null,"To configure your project, run the following command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-console"},"$ yarn configure\n")),(0,o.kt)("h2",{id:"6-add-the-provided-redirect-url"},"6. Add the provided redirect URL"),(0,o.kt)("p",null,"In order for the Swan OAuth2 server to recognize your environment, add the following URL in ",(0,o.kt)("a",{parentName:"p",href:"https://dashboard.swan.io"},(0,o.kt)("strong",{parentName:"a"},"Dashboard")," > ",(0,o.kt)("strong",{parentName:"a"},"Developers")," > ",(0,o.kt)("strong",{parentName:"a"},"API")," > ",(0,o.kt)("strong",{parentName:"a"},"Redirect URLs")),"."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"https://banking.swan.local:8080/auth/callback\n")),(0,o.kt)("admonition",{title:"Success",type:"tip"},(0,o.kt)("p",{parentName:"admonition"},"\ud83c\udf89 Your repository is ready for development!")))}P.isMDXComponent=!0}}]);